<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ุฅุถุงูุฉ ุตูุญุฉ ูุจูุท</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.rtl.min.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="css/admin.css">
  <link rel="stylesheet" href="css/navbar.css">
  <style>
    body {
      font-family: 'Cairo', sans-serif;
      background: linear-gradient(120deg, #f8fafc 0%, #e0e7ff 100%);
    }
    
    
    .card {
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.08);
      border: none;
      transition: all 0.3s ease;
    }
    
    .card:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 25px rgba(0,0,0,0.15);
    }
    
    .btn {
      border-radius: 8px;
      transition: all 0.3s ease;
    }
    
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }
    
    .form-control, .form-select {
      border-radius: 8px;
      border: 1px solid #e0e7ff;
    }
    
    .form-control:focus, .form-select:focus {
      border-color: #667eea;
      box-shadow: 0 0 0 0.2rem rgba(102,126,234,0.25);
    }
    
    .table {
      background: white;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0,0,0,0.08);
    }
    
    .table thead {
      background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
      color: white;
    }
    
    .table tbody tr:hover {
      background-color: #f8f9fa;
      transform: scale(1.01);
      transition: all 0.2s ease;
    }
    
    .landing-page-image {
      width: 100px;
      height: 60px;
      object-fit: cover;
      border-radius: 8px;
      border: 2px solid #e0e7ff;
    }
    
    .landing-page-image:hover {
      border-color: #667eea;
      transform: scale(1.05);
      transition: all 0.2s ease;
    }
    
    @media (max-width: 768px) {
      .table-responsive {
        font-size: 0.85rem;
      }
      
      .table td, .table th {
        padding: 0.5rem 0.25rem;
        vertical-align: middle;
      }
      
      .landing-page-image {
        width: 60px !important;
        height: 40px !important;
      }
    }
    
    .main-footer {
      background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
      color: white;
      border-radius: 25px 25px 0 0;
      box-shadow: 0 -4px 20px rgba(102,126,234,0.08);
    }
  </style>
</head>
<body class="bg-light">
  <!-- ุดุฑูุท ุงูุชููู ุงููุดุชุฑู -->
  <admin-navbar></admin-navbar>
  <main class="container py-5">
    <header class="main-header p-3 text-center">
      <h1 class="h4">๐ ุฅุฏุงุฑุฉ ุตูุญุงุช ุงููุจูุท</h1>
    </header>
    <div class="text-end mb-3">
      <button class="btn btn-success" id="showAddLandingPageFormBtn">โ ุฅุถุงูุฉ ุตูุญุฉ ูุจูุท</button>
    </div>
    <div id="addLandingPageFormWrapper" style="display:none;">
      <div class="card shadow mb-4">
        <div class="card-body">
          <!-- ูููุฐุฌ ุฅุถุงูุฉ ุตูุญุฉ ุงููุจูุท -->
          <!-- ุงุณู ุตูุญุฉ ุงููุจูุท -->
          <div class="mb-3">
            <label class="form-label">ุงุณู ุตูุญุฉ ุงููุจูุท</label>
            <input type="text" class="form-control" id="landingPageName" placeholder="ุฃุฏุฎู ุงุณู ุตูุญุฉ ุงููุจูุท">
          </div>
          <!-- ุงูุตูุฑ -->
          <div class="mb-3">
            <label class="form-label">ุตูุฑ ุตูุญุฉ ุงููุจูุท</label>
            <div class="d-flex mb-2">
              <input type="file" class="form-control me-2" id="landingPageImage" accept="image/*">
              <button class="btn btn-outline-primary" onclick="addLandingPageImage()">ุฅุถุงูุฉ ุตูุฑุฉ</button>
            </div>
            <div id="landingPageImagesList" class="d-flex flex-wrap gap-2">
              <!-- ุงูุตูุฑ ุงููุถุงูุฉ ุณุชุธูุฑ ููุง -->
            </div>
          </div>
          <!-- ุฃุจุนุงุฏ ุนุฑุถ ุงูุตูุฑุฉ -->
          <div class="mb-3">
            <label class="form-label">ุฃุจุนุงุฏ ุนุฑุถ ุงูุตูุฑุฉ</label>
            <select class="form-select" id="imageWidth">
              <option value="">ุงุฎุชุฑ ุนุฑุถ ุงูุตูุฑุฉ</option>
              <option value="100%">ุนุฑุถ ูุงูู (100%)</option>
              <option value="75%">ุนุฑุถ 75%</option>
              <option value="50%">ุนุฑุถ 50%</option>
              <option value="25%">ุนุฑุถ 25%</option>
              <option value="300px">ุนุฑุถ ุซุงุจุช 300px</option>
              <option value="400px">ุนุฑุถ ุซุงุจุช 400px</option>
              <option value="500px">ุนุฑุถ ุซุงุจุช 500px</option>
              <option value="600px">ุนุฑุถ ุซุงุจุช 600px</option>
            </select>
          </div>
          <!-- ุงูุฃููุงู -->
          <div class="mb-3">
            <label class="form-label">ุงูุฃููุงู</label>
            <div class="d-flex mb-2">
              <input type="text" class="form-control me-2" id="colorName" placeholder="ุงุณู ุงูููู">
              <input type="color" id="colorPicker" class="form-control form-control-color" value="#000000">
              <button class="btn btn-outline-success ms-2" onclick="addColor()">ุฅุถุงูุฉ</button>
            </div>
            <div id="colorsList" class="d-flex flex-wrap gap-2"></div>
          </div>
          <!-- ุงูููุงุณุงุช -->
          <div class="mb-3">
            <label class="form-label">ุงูููุงุณุงุช</label>
            <div class="d-flex mb-2">
              <input type="text" class="form-control me-2" id="sizeInput" placeholder="ุฃุฏุฎู ููุงุณ (ูุซู: S ุฃู 42)">
              <button class="btn btn-outline-primary ms-2" onclick="addSize()">ุฅุถุงูุฉ</button>
            </div>
            <div id="sizesList" class="d-flex flex-wrap gap-2"></div>
          </div>
          <!-- ุงูุณุนุฑ ุงูุฃุณุงุณู -->
          <div class="mb-3">
            <label class="form-label">ุงูุณุนุฑ ุงูุฃุณุงุณู</label>
            <input type="number" class="form-control" id="price" placeholder="ุฃุฏุฎู ุงูุณุนุฑ ุงูุฃุณุงุณู">
          </div>
          <!-- ุงูุนุฑูุถ ุงูุฎุงุตุฉ -->
          <div class="mb-3">
            <label class="form-label">ุงูุนุฑูุถ ุงูุฎุงุตุฉ</label>
            <div class="row g-2 align-items-center mb-2">
              <div class="col-md-4">
                <input type="number" id="offerQty" class="form-control" placeholder="ุนุฏุฏ ุงููุทุน">
              </div>
              <div class="col-md-4">
                <input type="number" id="offerPrice" class="form-control" placeholder="ุงูุณุนุฑ ุงูุฅุฌูุงูู">
              </div>
              <div class="col-md-4">
                <button class="btn btn-outline-success w-100" onclick="addOffer()">ุฅุถุงูุฉ ุนุฑุถ</button>
              </div>
            </div>
            <div id="offersList" class="d-flex flex-column gap-2"></div>
          </div>
          <!-- ุงูุชุตููู -->
          <div class="mb-3">
            <label class="form-label">ุงุฎุชุฑ ุงูุชุตููู</label>
            <select class="form-select" id="categorySelect">
              <option value="">ุงุฎุชุฑ ุงูุชุตููู</option>
            </select>
          </div>
          <!-- ุจููุณู -->
          <div class="mb-3">
            <label class="form-label">ุงุฎุชุฑ ุจููุณู</label>
            <select class="form-select" id="pixelSelect">
              <option value="">ุงุฎุชุฑ ุงูุจููุณู</option>
            </select>
          </div>
          <!-- ุญุงูุฉ ุงูุชููุฑ -->
          <div class="mb-3">
            <div class="form-check form-switch">
              <input class="form-check-input" type="checkbox" id="landingPageAvailable" checked>
              <label class="form-check-label" for="landingPageAvailable">
                ุตูุญุฉ ุงููุจูุท ูุชุงุญุฉ
              </label>
            </div>
          </div>
          <!-- ุฒุฑ ุงููุดุฑ -->
          <div class="text-end">
            <button class="btn btn-success" onclick="publishLandingPage()">ูุดุฑ ุตูุญุฉ ุงููุจูุท</button>
          </div>
        </div>
      </div>
    </div>
    <!-- ุฌุฏูู ุตูุญุงุช ุงููุจูุท -->
    <div class="card shadow">
      <div class="card-body">
        <h5 class="mb-3">ูุงุฆูุฉ ุตูุญุงุช ุงููุจูุท</h5>
        <div class="table-responsive">
          <table class="table table-bordered text-center align-middle" id="landingPagesTable">
            <thead class="table-dark">
              <tr>
                <th>ุงูุตูุฑุฉ</th>
                <th>ุงุณู ุตูุญุฉ ุงููุจูุท</th>
                <th>ุงูุชุตููู</th>
                <th>ุนุฑุถ ุงูุตูุฑุฉ</th>
                <th>ุงูุณุนุฑ</th>
                <th>ุงูุชููุฑ</th>
                <th>ุงูุฅุฌุฑุงุกุงุช</th>
              </tr>
            </thead>
            <tbody>
              <!-- ุตูุญุงุช ุงููุจูุท ุณุชููุฃ ูู ุฌุงูุงุณูุฑูุจุช -->
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <!-- ููุฏุงู ูุฌุงุญ ุงููุดุฑ -->
    <div class="modal fade" id="successModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header bg-success text-white">
            <h5 class="modal-title">โ ุชู ูุดุฑ ุตูุญุฉ ุงููุจูุท</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="ุฅุบูุงู"></button>
          </div>
          <div class="modal-body">
            <p>ุชูุช ุฅุถุงูุฉ ุตูุญุฉ ุงููุจูุท ุจูุฌุงุญ!</p>
          </div>
          <div class="modal-footer">
            <button class="btn btn-secondary" data-bs-dismiss="modal">ุฅุบูุงู</button>
          </div>
        </div>
      </div>
    </div>

    <!-- ููุฏุงู ุชุนุฏูู ุตูุญุฉ ุงููุจูุท -->
    <div class="modal fade" id="editLandingPageModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header bg-info text-white">
            <h5 class="modal-title">โ๏ธ ุชุนุฏูู ุตูุญุฉ ุงููุจูุท</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="ุฅุบูุงู"></button>
          </div>
          <div class="modal-body">
            <form id="editLandingPageForm">
              <input type="hidden" id="editLandingPageId">
              <!-- ุงุณู ุตูุญุฉ ุงููุจูุท -->
              <div class="mb-3">
                <label class="form-label">ุงุณู ุตูุญุฉ ุงููุจูุท</label>
                <input type="text" class="form-control" id="editLandingPageName" placeholder="ุฃุฏุฎู ุงุณู ุตูุญุฉ ุงููุจูุท">
              </div>
              <!-- ุตูุฑ ุตูุญุฉ ุงููุจูุท -->
              <div class="mb-3">
                <label class="form-label">ุตูุฑ ุตูุญุฉ ุงููุจูุท</label>
                <div class="d-flex mb-2">
                  <input type="file" class="form-control me-2" id="editLandingPageImage" accept="image/*">
                  <button type="button" class="btn btn-outline-primary" onclick="addEditLandingPageImage()">ุฅุถุงูุฉ ุตูุฑุฉ</button>
                </div>
                <div id="editLandingPageImagesList" class="d-flex flex-wrap gap-2"></div>
              </div>
              <!-- ุฃุจุนุงุฏ ุนุฑุถ ุงูุตูุฑุฉ -->
              <div class="mb-3">
                <label class="form-label">ุฃุจุนุงุฏ ุนุฑุถ ุงูุตูุฑุฉ</label>
                <select class="form-select" id="editImageWidth">
                  <option value="">ุงุฎุชุฑ ุนุฑุถ ุงูุตูุฑุฉ</option>
                  <option value="100%">ุนุฑุถ ูุงูู (100%)</option>
                  <option value="75%">ุนุฑุถ 75%</option>
                  <option value="50%">ุนุฑุถ 50%</option>
                  <option value="25%">ุนุฑุถ 25%</option>
                  <option value="300px">ุนุฑุถ ุซุงุจุช 300px</option>
                  <option value="400px">ุนุฑุถ ุซุงุจุช 400px</option>
                  <option value="500px">ุนุฑุถ ุซุงุจุช 500px</option>
                  <option value="600px">ุนุฑุถ ุซุงุจุช 600px</option>
                </select>
              </div>
              <!-- ุงูุฃููุงู -->
              <div class="mb-3">
                <label class="form-label">ุงูุฃููุงู</label>
                <div class="d-flex mb-2">
                  <input type="text" class="form-control me-2" id="editColorName" placeholder="ุงุณู ุงูููู">
                  <input type="color" id="editColorPicker" class="form-control form-control-color" value="#000000">
                  <button type="button" class="btn btn-outline-success ms-2" onclick="addEditColor()">ุฅุถุงูุฉ</button>
                </div>
                <div id="editColorsList" class="d-flex flex-wrap gap-2"></div>
              </div>
              <!-- ุงูููุงุณุงุช -->
              <div class="mb-3">
                <label class="form-label">ุงูููุงุณุงุช</label>
                <div class="d-flex mb-2">
                  <input type="text" class="form-control me-2" id="editSizeInput" placeholder="ุฃุฏุฎู ููุงุณ (ูุซู: S ุฃู 42)">
                  <button type="button" class="btn btn-outline-primary ms-2" onclick="addEditSize()">ุฅุถุงูุฉ</button>
                </div>
                <div id="editSizesList" class="d-flex flex-wrap gap-2"></div>
              </div>
              <!-- ุงูุณุนุฑ ุงูุฃุณุงุณู -->
              <div class="mb-3">
                <label class="form-label">ุงูุณุนุฑ ุงูุฃุณุงุณู</label>
                <input type="number" class="form-control" id="editPrice" placeholder="ุฃุฏุฎู ุงูุณุนุฑ ุงูุฃุณุงุณู">
              </div>
              <!-- ุงูุนุฑูุถ ุงูุฎุงุตุฉ -->
              <div class="mb-3">
                <label class="form-label">ุงูุนุฑูุถ ุงูุฎุงุตุฉ</label>
                <div class="row g-2 align-items-center mb-2">
                  <div class="col-md-4">
                    <input type="number" id="editOfferQty" class="form-control" placeholder="ุนุฏุฏ ุงููุทุน">
                  </div>
                  <div class="col-md-4">
                    <input type="number" id="editOfferPrice" class="form-control" placeholder="ุงูุณุนุฑ ุงูุฅุฌูุงูู">
                  </div>
                  <div class="col-md-4">
                    <button type="button" class="btn btn-outline-success w-100" onclick="addEditOffer()">ุฅุถุงูุฉ ุนุฑุถ</button>
                  </div>
                </div>
                <div id="editOffersList" class="d-flex flex-column gap-2"></div>
              </div>
              <!-- ุงูุชุตููู -->
              <div class="mb-3">
                <label class="form-label">ุงุฎุชุฑ ุงูุชุตููู</label>
                <select class="form-select" id="editCategorySelect">
                  <option value="">ุงุฎุชุฑ ุงูุชุตููู</option>
                </select>
              </div>
              <!-- ุจููุณู -->
              <div class="mb-3">
                <label class="form-label">ุงุฎุชุฑ ุจููุณู</label>
                <select class="form-select" id="editPixelSelect">
                  <option value="">ุงุฎุชุฑ ุงูุจููุณู</option>
                </select>
              </div>
              <!-- ุญุงูุฉ ุงูุชููุฑ -->
              <div class="mb-3">
                <div class="form-check form-switch">
                  <input class="form-check-input" type="checkbox" id="editLandingPageAvailable" checked>
                  <label class="form-check-label" for="editLandingPageAvailable">
                    ุตูุญุฉ ุงููุจูุท ูุชุงุญุฉ
                  </label>
                </div>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ุฅูุบุงุก</button>
            <button type="button" class="btn btn-success" onclick="updateLandingPage()">ุญูุธ ุงูุชุนุฏููุงุช</button>
          </div>
        </div>
      </div>
    </div>
  </main>
  <footer class="main-footer text-center py-3 mt-5">
    <div class="container">
      <p class="mb-0">
        <i class="fas fa-heart text-danger me-1"></i>
        ุฌููุน ุงูุญููู ูุญููุธุฉ ยฉ 2024 ูุชุฌุฑ ุฅููุชุฑููู
      </p>
    </div>
  </footer>
  

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
  <script type="module" src="js/server-superbase.js">
  </script>
  <script type="module" src="js/navbar.js"></script>
  <script type="module" src="js/auth-guard.js"></script>
  <script type="module" src="js/addLandingPage.js"></script>
  
  <script type="module" src="js/logout.js"></script>
</body>
</html> 
